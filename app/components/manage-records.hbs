<button id="manage-openForm-ManageRecords" type="button">Manage Records</button>

<div id="manage-overlay"></div>

<div id="manage-container-form-ManageRecords">

    <h2 class="text-center">Manage Records</h2>

    <form {{on "submit" this.searchClient}} class="needs-validation" novalidate>

         <div class="mb-3">
            <label for="manage-email">Email Address</label>
            <input type="email" id="manage-email" class="form-control" placeholder="Enter your email address" required
                   {{on "input" this.updateEmail}} value={{this.clientEmail}}>
            <div id="manage-invalid-email" class="text-danger" style="display: none;">
                Email not registered
            </div>
        </div>

        <div class="d-flex justify-content-center align-items-center">
            <button class="m-3 btn btn-primary" type="submit" id="manage-searchClient-submit-button">Search Record</button>
        </div>

    </form>

    <form id="manage-formEdit" {{on "submit" this.editClient}} class="needs-validation" novalidate>

        <div class="mb-3">
            <label for="manage-fullName">Full Name</label>
            <input type="text" id="manage-fullName" class="form-control" placeholder="Enter your full name" required
                   {{on "input" this.updateName}} value={{this.clientName}}>
            <div id="manage-invalid-name" class="text-danger" style="display: none;">
                Full Name is required.
            </div>
        </div>

        <div class="mb-3">
            <label for="manage-phone">Phone</label>
            <input type="number" id="manage-phone" class="form-control" placeholder="Enter your phone number" pattern="[0-9]{10}" required
                   {{on "input" this.updatePhone}} value={{this.clientPhone}}>
            <div id="manage-invalid-phone" class="text-danger" style="display: none;">
                Phone number must be 10 digits.
            </div>
            <small>Format: 10 numeric digits.</small>
        </div>

        <div class="mb-3">
            <label for="manage-dateTime">Preferred Date and Time</label>
            <input type="datetime-local" id="manage-dateTime" class="form-control" required
                   {{on "input" this.updateDate}} value={{this.appointmentDate}}>
            <div id="manage-invalid-dateTime" class="text-danger" style="display: none;">
                Please select a preferred date and time.
            </div>
        </div>

        <div class="mb-3">
            <label for="manage-serviceType">Service Type</label>
            <select id="manage-serviceType" required
                    {{on "change" this.updateService}} value={{this.requestService}}>
                <option value="Orthodontics">Orthodontics</option>
                <option value="Dental surgery">Dental surgery</option>
                <option value="Endodontics">Endodontics</option>
                <option value="Periodontology">Periodontology</option>
                <option value="General dentistry">General dentistry</option>
                <option value="Dental implants">Dental implants</option>
            </select>
            <div id="manage-invalid-serviceType" class="text-danger" style="display: none;">
                Please select a service type.
            </div>
        </div>

        <div class="d-inline justify-content-between align-items-center">
            <button class="mt-3 btn btn-primary" type="submit">Save Changes</button>
            <button class="mt-3 btn btn-danger" type="button" {{on "click" this.deleteClient}}>Delete</button>
        </div>
    </form>

    {{!-- Mensajes de retroalimentaci√≥n --}}
    <div id="manage-invali-feedback-form" class="text-center text-danger" style="display: none;">
        Invalid Data
    </div>
    <div id="manage-edit-feedback" class="text-center text-success" style="display: none;">
        Registry edited successfully
    </div>
    <div id="manage-delete-feedback" class="text-center text-success" style="display: none;">
        Registry deleted successfully
    </div>

   <div id="manage-overlay-success"></div>

    <div id="manage-success-screen" class="text-center p-5">
        <div class="success-content">
            <div class="success-icon mb-4">
                <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" alt="Success Icon" width="100" height="100">
            </div>
            <h2 class="success-title display-4 fw-bold mb-3">Success!</h2>
            <p class="success-message fs-5 mb-4">
                Your action has been completed successfully. <br>
                Thank you for trusting <span class="text-primary fw-bold">Neo Smile</span>.
            </p>
            <button id="manage-success-close-button" class="btn btn-primary btn-lg" type="button">
                Close
            </button>
        </div>
    </div>

</div>

<script>
    document.getElementById("manage-overlay").addEventListener("click", function(){
        document.getElementById('manage-overlay').style.display = 'none';
        document.getElementById('manage-container-form-ManageRecords').style.display = 'none';
    });

    document.getElementById("manage-openForm-ManageRecords").addEventListener("click", function(){
        document.getElementById('manage-overlay').style.display = 'block';
        document.getElementById('manage-container-form-ManageRecords').style.display = 'block';
    });

    document.getElementById("manage-success-close-button").addEventListener("click", function(){
        document.getElementById('manage-overlay-success').style.display = 'none';
        document.getElementById('manage-success-screen').style.display = 'none';
    });

    document.getElementById("manage-overlay-success").addEventListener("click", function(){
        document.getElementById('manage-overlay-success').style.display = 'none';
        document.getElementById('manage-success-screen').style.display = 'none';
    });

</script>